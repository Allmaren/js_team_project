!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),c=a("2TvXO"),i=a("dIxxU"),l=a("95ECi"),s=a("eafjv"),u=document.querySelector(".my-library-list"),d=document.querySelector("button.btn-watched"),p=document.querySelector("button.btn-queue"),f=document.querySelector(".nav-library"),m=document.querySelector(".btn-watched"),v=document.querySelector(".btn-queue"),h="watched";d.addEventListener("click",(function(){b?(m.classList.add("btn-library-current"),v.classList.remove("btn-library-current"),y(s.allMoviesWatched,b,h)):(0,l.onToggleModal)()})),p.addEventListener("click",(function(){b?(m.classList.remove("btn-library-current"),v.classList.add("btn-library-current"),y(s.allMoviesQueue,b,"queque")):(0,l.onToggleModal)()}));var b=JSON.parse(localStorage.getItem("user-id"));if(b)m.classList.add("btn-library-current"),y(s.allMoviesWatched,b,h);else{var g=document.createElement("p");g.className="notification-update-movie",g.innerHTML="To create your collections of movies you have to log in on Home page",f.append(g),setTimeout((function(){return g.remove()}),6e3),u.innerHTML="";u.insertAdjacentHTML("beforeend",'<li class="library-photo-item"><div class="library-photo"></div></li>')}function y(e,t,n){return _.apply(this,arguments)}function _(){return _=e(o)(e(c).mark((function t(n,r,a){var l,s,d,p,f;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=function(e){u.insertAdjacentHTML("beforeend",f(e))},f=function(e){var t=e.original_title,n=e.poster_path,r=e.vote_average,a=e.id,o=e.release_date,c=e.genres,i=[];return c.forEach((function(e){i.push(e.name)})),'\n    <li class="card-item" >\n      <div class="card-item__img">\n      <img src="'.concat(n?"https://image.tmdb.org/t/p/w500".concat(n):"./images/no_image.jpg",'"  alt="').concat(t,'" data-id="').concat(a,'" loading="lazy">\n      </div>\n      <h3 class="card-item__title">').concat(t,'</h3>\n      <p class="card-item__info">\n        <span>').concat(i.slice(0,2).map((function(e){return e})).join(", ")).concat(i.length?i.length>2?", Other":"":"No genre"," </span> <span>").concat(o.slice(0,4),'</span>\n        <span class="card-item__vote"> ').concat(r?r.toFixed(1):"0","</span>\n      </p>\n    </li>")},t.next=4,n(r).then((function(e){return e})).catch((function(e){return console.log(e)}));case 4:l=t.sent,s=l.slice(1),u.innerHTML="",0===s.length&&(u.innerHTML="",d='<li class="library-photo-item"><div class="library-'.concat(a,'-photo"></div></li>'),u.insertAdjacentHTML("beforeend",d)),s.map(function(){var t=e(o)(e(c).mark((function t(n){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.get("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=1234dced32e7dcd076b4111d81f37c06"));case 2:r=e.sent,p(r.data);case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)}))),_.apply(this,arguments)}a("73ES2"),a("dULZn"),a("aZhHc"),a("95ECi"),a("lGgu3"),a("7rZSN"),a("8lhGj"),a("dW6sr"),a("jcFG7")}();
//# sourceMappingURL=library.7c80528e.js.map
